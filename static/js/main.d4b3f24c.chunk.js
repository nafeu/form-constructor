(this["webpackJsonpform-constructor"]=this["webpackJsonpform-constructor"]||[]).push([[0],{25:function(e,a,t){e.exports=t(43)},30:function(e,a,t){},31:function(e,a,t){},35:function(e,a,t){},41:function(e,a,t){},43:function(e,a,t){"use strict";t.r(a);var l=t(1),n=t.n(l),c=t(22),r=t.n(c),o=(t(30),t(18)),u=t(6),i=t(10),m=(t(31),t(52)),d=t(46),s=t(47),b=t(53),f=t(44),E=t(45),v=t(51),p=t(49),h=t(54),y=t(55),g=t(56),O=t(57),j=t(58),k=t(16),x=t(7),A=(t(35),t(12)),F=t(15),M=function(){return n.a.createElement("div",{className:"page-title mb-4"},n.a.createElement(A.a,{icon:F.b})," Form"," ",n.a.createElement("span",{className:"page-title-bold"},"Constructor"))},N=(t(41),t(23)),C=function(){return n.a.createElement("div",{className:"page-footer p-4"},n.a.createElement("a",{href:"https://github.com/nafeu/form-constructor"},n.a.createElement(A.a,{icon:N.a}))," ","/ Made with ",n.a.createElement(A.a,{icon:F.a})," by"," ",n.a.createElement("a",{href:"http://nafeu.com"},"Nafeu Nasir."))},L=function(e){return e.split("|")[0]},S=function(e){var a=new Date(e),t=""+(a.getMonth()+1),l=""+a.getDate(),n=a.getFullYear();return t.length<2&&(t="0"+t),l.length<2&&(l="0"+l),[n,t,l].join("-")},I=t(48),w=t(50),D=function(e){var a={};return Object(x.each)(Object(x.keys)(e),(function(t){"label"!==t&&(a[t]=e[t])})),a},K=function(e){var a=e.formField,t=e.onChangeFormField,l=L(a.id);return"yesnoMolecule"===l?n.a.createElement(f.a,null,n.a.createElement(E.a,{for:a.id},a.label),n.a.createElement(d.a,null,n.a.createElement(s.a,null,n.a.createElement(I.a,null,n.a.createElement(p.a,{color:"yes"===a.value?"primary":"secondary",onClick:function(){return t({formFieldId:a.id,value:"yes"})},active:"yes"===a.value},"Yes"),n.a.createElement(p.a,{color:"no"===a.value?"primary":"secondary",onClick:function(){return t({formFieldId:a.id,value:"no"})},active:"no"===a.value},"No"))))):"rangeMolecule"===l?n.a.createElement(f.a,null,n.a.createElement(E.a,{for:a.id},a.label," ",n.a.createElement(w.a,{color:"primary"},a.value)),n.a.createElement(v.a,Object.assign({id:a.id,onChange:function(e){return t({formFieldId:a.id,value:e.target.value})}},D(a),{name:a.key||a.id}))):n.a.createElement(f.a,null,n.a.createElement(E.a,{for:a.id},a.label),n.a.createElement(v.a,Object.assign({id:a.id,onChange:function(e){return t({formFieldId:a.id,value:e.target.value})}},D(a),{name:a.key||a.id})))},T={textMolecule:{build:function(e){return{id:"textMolecule|".concat(e),label:"Text",atoms:[{id:"keyAtom|".concat(e),label:"Key",type:"text",placeholder:"Enter Key",value:""},{id:"labelAtom|".concat(e),label:"Label",type:"text",placeholder:"Enter Label",value:""},{id:"placeholderAtom|".concat(e),label:"Placeholder",type:"text",placeholder:"Enter Placeholder",value:""},{id:"characterLimitAtom|".concat(e),label:"Character Limit",type:"number",placeholder:"Enter Character Limit",value:100}]}},process:function(e){var a={id:e.id,type:"text",value:""};return Object(x.each)(e.atoms,(function(e){var t=e.id,l=e.value;t.includes("keyAtom")&&(a.key=l),t.includes("labelAtom")&&(a.label=l),t.includes("placeholderAtom")&&(a.placeholder=l),t.includes("characterLimitAtom")&&(a.maxLength=l)})),a}},numberMolecule:{build:function(e){return{id:"numberMolecule|".concat(e),label:"Number",atoms:[{id:"keyAtom|".concat(e),label:"Key",type:"text",placeholder:"Enter Key",value:""},{id:"labelAtom|".concat(e),label:"Label",type:"text",placeholder:"Enter Label",value:""},{id:"minAtom|".concat(e),label:"Min",type:"number",placeholder:"Enter Min",value:String(0)},{id:"maxAtom|".concat(e),label:"Max",type:"number",placeholder:"Enter Max",value:String(100)}]}},process:function(e){var a={id:e.id,type:"number",value:null};return Object(x.each)(e.atoms,(function(e){var t=e.id,l=e.value;t.includes("keyAtom")&&(a.key=l),t.includes("labelAtom")&&(a.label=l),t.includes("minAtom")&&(a.min=l),t.includes("maxAtom")&&(a.max=l)})),a}},rangeMolecule:{build:function(e){return{id:"rangeMolecule|".concat(e),label:"Range",atoms:[{id:"keyAtom|".concat(e),label:"Key",type:"text",placeholder:"Enter Key",value:""},{id:"labelAtom|".concat(e),label:"Label",type:"text",placeholder:"Enter Label",value:""},{id:"minAtom|".concat(e),label:"Min",type:"number",placeholder:"Enter Min",value:String(1)},{id:"maxAtom|".concat(e),label:"Max",type:"number",placeholder:"Enter Max",value:String(5)}]}},process:function(e){var a={id:e.id,type:"range",value:""};return Object(x.each)(e.atoms,(function(e){var t=e.id,l=e.value;t.includes("keyAtom")&&(a.key=l),t.includes("labelAtom")&&(a.label=l),t.includes("minAtom")&&(a.min=l),t.includes("maxAtom")&&(a.max=l)})),a}},dateMolecule:{build:function(e){return{id:"dateMolecule|".concat(e),label:"Date",atoms:[{id:"labelAtom|".concat(e),label:"Label",type:"text",placeholder:"Enter Label",value:""}]}},process:function(e){var a={id:e.id,type:"date",value:S(new Date)};return Object(x.each)(e.atoms,(function(e){var t=e.id,l=e.value;t.includes("keyAtom")&&(a.key=l),t.includes("labelAtom")&&(a.label=l)})),a}},yesnoMolecule:{build:function(e){return{id:"yesnoMolecule|".concat(e),label:"Yes-No",atoms:[{id:"labelAtom|".concat(e),label:"Label",type:"text",placeholder:"Enter Label",value:""}]}},process:function(e){var a={id:e.id,type:"text",value:""};return Object(x.each)(e.atoms,(function(e){var t=e.id,l=e.value;t.includes("keyAtom")&&(a.key=l),t.includes("labelAtom")&&(a.label=l)})),a}}},J=Object(x.keys)(T),H=function(e){var a=[];return Object(x.each)(e.molecules,(function(e){var t=L(e.id);a.push(T[t].process(e))})),a},P=function(e){var a=e.organism,t=e.formFields;return a&&t?Object(u.a)({id:a.id},t.reduce((function(e,a){return e[a.key||a.id]="number"===a.type?Number(a.value):null===a.value?"":String(a.value),e}),{})):{}};var Y=function(){var e,a=Object(l.useRef)(null),t=Object(l.useState)(!0),c=Object(i.a)(t,2),r=c[0],A=c[1],F=Object(l.useState)({id:"organism-".concat(Object(k.v1)()),name:"",molecules:[]}),N=Object(i.a)(F,2),S=N[0],I=N[1],w=Object(l.useState)(T[J[0]].build()),D=Object(i.a)(w,2),Y=D[0],z=D[1],R=Object(l.useState)(H(S)),B=Object(i.a)(R,2),G=B[0],U=B[1],W=Object(l.useState)(P({organism:S,formFields:G})),$=Object(i.a)(W,2),q=$[0],Q=$[1];Object(l.useEffect)((function(){U(H(S))}),[S]),Object(l.useEffect)((function(){var e=P({organism:S,formFields:G});Q(e)}),[S,G]);var V=function(e){var a=e.formFieldId,t=e.value;U(G.map((function(e){return e.id===a?Object(u.a)(Object(u.a)({},e),{},{value:t}):e})))};return n.a.createElement("div",{className:"app"},n.a.createElement("div",{className:"app-container"},n.a.createElement(M,null),n.a.createElement(m.a,{className:"mb-4",fluid:!0},n.a.createElement("h4",null,"Construct Form"),n.a.createElement(d.a,null,n.a.createElement(s.a,{xs:r?"6":"12"},n.a.createElement(b.a,null,n.a.createElement(f.a,null,n.a.createElement(E.a,{for:"formName"},"Form Name"),n.a.createElement(v.a,{type:"text",id:"formName",placeholder:"Enter name",value:S.name,onChange:function(e){I(Object(u.a)(Object(u.a)({},S),{},{name:e.target.value}))}})),n.a.createElement(f.a,null,n.a.createElement(E.a,{for:"selectMolecule"},"Select Form Field"),n.a.createElement(v.a,{type:"select",id:"selectMolecule",placeholder:"Select form field",value:L(Y.id),onChange:function(e){var a=e.target.value;z(T[a].build())}},J.map((function(e){var a=L(e),t=T[a].build().label;return n.a.createElement("option",{key:e,value:a},t)})))),n.a.createElement(f.a,null,n.a.createElement(p.a,{color:"success",className:"m-1",onClick:function(){var e=L(Y.id);I(Object(u.a)(Object(u.a)({},S),{},{molecules:[].concat(Object(o.a)(S.molecules),[T[e].build(Object(k.v1)())])}))}},"Add Form Field"),n.a.createElement(p.a,{color:r?"info":"secondary",className:"m-1",onClick:function(){A(!r)}},r?"Hide Code":"Show Code"))),n.a.createElement(b.a,null,S.molecules.length>0&&S.molecules.map((function(e){return n.a.createElement(l.Fragment,{key:e.id},n.a.createElement(h.a,{className:"mb-4"},n.a.createElement(y.a,null,n.a.createElement(g.a,{tag:"h5"},e.label),n.a.createElement(d.a,{form:!0},e.atoms.map((function(a){return n.a.createElement(s.a,{xs:e.atoms.length>=3?"4":"",key:a.id},n.a.createElement(f.a,null,n.a.createElement(E.a,{for:a.id},a.label),n.a.createElement(v.a,{type:a.type,id:a.id,placeholder:a.placeholder,onChange:function(t){return function(e){var a=e.atomId,t=e.moleculeId,l=e.event,n=Object(u.a)(Object(u.a)({},S),{},{molecules:S.molecules.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{atoms:e.atoms.map((function(e){return e.id===a?Object(u.a)(Object(u.a)({},e),{},{value:l.target.value}):e}))}):e}))});I(n)}({atomId:a.id,moleculeId:e.id,event:t})},value:a.value})))}))),n.a.createElement(d.a,{form:!0},n.a.createElement(s.a,null,n.a.createElement(f.a,null,n.a.createElement(p.a,{color:"danger",size:"sm",className:"mr-2",onClick:function(){return function(e){var a=e.moleculeId,t=Object(u.a)(Object(u.a)({},S),{},{molecules:S.molecules.filter((function(e){return e.id!==a}))});I(t)}({moleculeId:e.id})}},"Delete"),n.a.createElement(p.a,{color:"primary",size:"sm",onClick:function(){return function(e){var a=e.moleculeToDuplicate,t=Object(k.v1)(),l=Object(u.a)(Object(u.a)({},S),{},{molecules:[].concat(Object(o.a)(S.molecules),[Object(u.a)(Object(u.a)({},a),{},{id:"".concat(L(a.id),"|").concat(t),atoms:a.atoms.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{id:"".concat(L(e.id),"|").concat(t)})}))})])});I(l)}({moleculeToDuplicate:e})}},"Duplicate")))))))})))),r&&n.a.createElement(s.a,{xs:"6"},n.a.createElement("pre",null,JSON.stringify(S,null,2)))),n.a.createElement("hr",null),S.molecules.length>0&&n.a.createElement(l.Fragment,null,n.a.createElement("h4",null,"Preview Form"),n.a.createElement(d.a,null,n.a.createElement(s.a,{xs:r?"6":"12"},n.a.createElement(h.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a,null,n.a.createElement("strong",null,S.name||"[Untitled Form]")),n.a.createElement("div",{ref:a},G.length>0&&G.map((function(e){return n.a.createElement(d.a,{key:e.id,form:!0},n.a.createElement(s.a,null,n.a.createElement(K,{formField:e,onChangeFormField:V})))})))))),r&&n.a.createElement(s.a,{xs:"6"},n.a.createElement("pre",null,JSON.stringify(G,null,2)))),n.a.createElement("hr",null)),n.a.createElement("h4",null,"Preview Form Data"),n.a.createElement(d.a,null,n.a.createElement(s.a,{xs:r?"6":"12"},n.a.createElement(O.a,null,Object(x.keys)(q).map((function(e){return"id"===e?"":n.a.createElement(j.a,{key:e},function(e){var a=e.key,t=e.formFields,l=Object(x.find)(t,{id:a});return(null===l||void 0===l?void 0:l.label)||"[".concat(L(a),"]")}({key:e,formFields:G}),": ",n.a.createElement("strong",null,q[e]))})))),r&&n.a.createElement(s.a,{xs:"6"},n.a.createElement("pre",null,JSON.stringify(q,null,2)))),S.molecules.length>0&&n.a.createElement(l.Fragment,null,n.a.createElement("hr",null),n.a.createElement("h4",null,"Get HTML"),n.a.createElement(d.a,null,n.a.createElement(s.a,null,n.a.createElement("pre",null,(null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.innerHTML)&&function(e){var a="",t="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(t=t.substring("  ".length)),a+=t+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(t+="  ")})),a.substring(1,a.length-3)}(a.current.innerHTML)))))),n.a.createElement(C,null)))};t(42);r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(Y,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d4b3f24c.chunk.js.map